---
import Layout from "@layouts/Layout.astro";
import SectionContainer from "@layouts/SectionContainer.astro";
import Tabs from "@components/Tabs/Tabs.astro";
import TabPanel from "@components/Tabs/TabPanel.astro";
import H1Gradient from "@components/H1Gradient.astro";
import { Code } from "astro:components";
import { independentCounterExamples, independentFormExamples } from "@data/snippets";
// Counters
import AstroCounterIndependent from "@components/handle-state/astro/AstroCounterIndependent.astro";
import SvelteCounterIndependent from "@components/handle-state/svelte/SvelteCounterIndependent.svelte";
import { ReactCounterIndependent } from "@components/handle-state/react/ReactCounterIndependent";
import VueCounterIndependent from "@components/handle-state/vue/VueCounterIndependent.vue";
// Forms
import { ReactFormIndependent } from "@components/handle-state/react/ReactFormIndependent";
import SvelteFormIndependent from "@components/handle-state/svelte/SvelteFormIndependent.svelte";
import AstroFormIndependent from "@components/handle-state/astro/AstroFormIndependent.astro";
import VueFormIndependent from "@components/handle-state/vue/VueFormIndependent.vue";
---

<Layout
  title="Independent State Management with Nanostores in Astro"
  description="Explore independent state management in Astro using Nanostores. Learn how to manage state for individual components across different frameworks."
  keywords="Nanostores, Astro, Independent State, State Management, React, Vue, Svelte"
  showPersistent={true}
  isArticle={true}
>
  <SectionContainer
    innerClasses="flex flex-col items-center justify-center gap-6 text-center text-lg"
  >
    <H1Gradient text="Independent State Management" />
    <p class="text-start">
      In this section, we explore how to implement independent state management using Nanostores
      across different frameworks within an Astro project. Independent state means that each
      component maintains its own isolated state, demonstrating how Nanostores can be used for
      component-specific state management.
    </p>
    <p class="text-start">
      We'll showcase this concept using two common UI patterns: counters and forms. Each example is
      implemented in Astro, Svelte, React, and Vue, allowing you to compare how independent state
      management works across these frameworks.
    </p>
  </SectionContainer>

  <SectionContainer innerClasses="flex flex-col gap-4 text-lg">
    <h2 class="text-2xl font-semibold md:text-3xl">Independent State Counters</h2>
    <p>
      These counters demonstrate how each framework can maintain its own independent count state
      using Nanostores. Notice how updating one counter doesn't affect the others.
    </p>
    <div class="my-8 grid grid-cols-1 gap-4 md:grid-cols-2">
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">Astro Counter</h3>
        <AstroCounterIndependent />
      </div>
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">Svelte Counter</h3>
        <SvelteCounterIndependent client:idle />
      </div>
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">React Counter</h3>
        <ReactCounterIndependent client:idle />
      </div>
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">Vue Counter</h3>
        <VueCounterIndependent client:load />
      </div>
    </div>
  </SectionContainer>

  <SectionContainer innerClasses="flex flex-col gap-4 text-lg">
    <h2 class="text-2xl font-semibold md:text-3xl">Counter Code Examples</h2>
    <Tabs labels={["store.ts", "Astro", "Svelte", "React", "Vue"]}>
      <TabPanel index={0}>
        <Code
          code={independentCounterExamples.store}
          lang="typescript"
          theme="aurora-x"
          class="p-4"
        />
      </TabPanel>
      <TabPanel index={1}>
        <Code code={independentCounterExamples.astro} lang="astro" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={2}>
        <Code code={independentCounterExamples.svelte} lang="svelte" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={3}>
        <Code code={independentCounterExamples.react} lang="jsx" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={4}>
        <Code code={independentCounterExamples.vue} lang="vue" theme="aurora-x" class="p-4" />
      </TabPanel>
    </Tabs>
  </SectionContainer>

  <SectionContainer innerClasses="flex flex-col gap-4 text-lg">
    <h2 class="text-2xl font-semibold md:text-3xl">Independent State Forms</h2>
    <p>
      These forms demonstrate how complex state (multiple form fields) can be managed independently
      for each framework using Nanostores. Each form maintains its own state without affecting the
      others.
    </p>
    <div class="my-8 grid grid-cols-1 gap-4 md:grid-cols-2">
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">Astro Form</h3>
        <AstroFormIndependent />
      </div>
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">Svelte Form</h3>
        <SvelteFormIndependent client:idle />
      </div>
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">React Form</h3>
        <ReactFormIndependent client:idle />
      </div>
      <div>
        <h3 class="mb-2 text-xl font-semibold md:text-2xl">Vue Form</h3>
        <VueFormIndependent client:load />
      </div>
    </div>
  </SectionContainer>

  <SectionContainer innerClasses="flex flex-col gap-4 text-lg">
    <h2 class="text-2xl font-semibold md:text-3xl">Form Code Examples</h2>
    <Tabs labels={["store.ts", "Astro", "Svelte", "React", "Vue"]}>
      <TabPanel index={0}>
        <Code code={independentFormExamples.store} lang="typescript" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={1}>
        <Code code={independentFormExamples.astro} lang="astro" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={2}>
        <Code code={independentFormExamples.svelte} lang="svelte" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={3}>
        <Code code={independentFormExamples.react} lang="jsx" theme="aurora-x" class="p-4" />
      </TabPanel>
      <TabPanel index={4}>
        <Code code={independentFormExamples.vue} lang="vue" theme="aurora-x" class="p-4" />
      </TabPanel>
    </Tabs>
  </SectionContainer>
</Layout>
